<app-header></app-header>
<div class="container  text-center">

  <div class="row shadow rounded ">
    <div *ngIf="!buyStatus"  class="col-lg-12 col-md-12text-center">

      <h1 class="text-success mt-3"> Delivery Details</h1><br>

     <form [formGroup]="checkOut" class="p-5">
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="email" placeholder="Email" formControlName="email">
          <label for="floatingInput">Email </label>
        </div>
         <!-- error message -->
         <div *ngIf="checkOut.get('email')?.errors&&checkOut.get('email')?.touched">
          <p class="text-danger">Please enter a valid email</p>
      </div>
        <div class="form-floating mt-3">
          <input type="text" class="form-control" id="add" placeholder="Bulding/Flat Number" name="Add" formControlName="address">
          <label for="floatingPassword">Address</label>
        </div>
        <div class="form-floating mt-3">
          <input type="text" class="form-control" id="place" placeholder="Address" name="plc" formControlName="place">
          <label for="floatingPassword">Place</label>
        </div>
        <div class="form-floating mt-3">
          <input type="text" class="form-control" id="pin" placeholder="Pincode" name="pinn" formControlName="pin">
          <label for="floatingPassword">Pin Code</label>
        </div>
        <div class="d-flex justify-content-between mt-3">
          <button (click)="cancel()" class="btn btn-warning w-25">Cancel</button>
          <button (click)="proceedToBuy()" class="btn btn-success w-25">Proceed to buy</button>
  
        </div>
  
     </form>


    </div>
    

</div>

<div *ngIf="buyStatus" class="col-lg-12 p-5 m-5 shadow rounded " style="width: auto;height: auto;">

  <div class=" ">
    <h4 class="text-danger">Delivery Address</h4>
    <hr>
    <div class="mt-3">
      <p>{{checkOut.value.email}}</p>
      <p>{{checkOut.value.address}}</p>
      <p>{{checkOut.value.place}}</p>
      <p>{{checkOut.value.pin}}</p>
    </div>

    <h4 class="text-center text-success">Total price : <span class="text-dark"> â‚¹ &nbsp;{{totalPrice}}</span></h4>
    <hr>
    <div class="d-flex justify-content-between mt-5">
      <button (click)="cancelPayment()"  class="btn btn-warning w-25">Cancel Payment</button>
      <button (click)="payment()" class="btn btn-success w-25">Proceed to payment</button>
      

    </div>

    <!-- payPal -->

    <div class=" container-fluid  mt-5 ">
      <ngx-paypal [config]="payPalConfig" class="w-100"></ngx-paypal>


    </div>
  </div>

</div>

</div>